<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Desktop</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="appHeader">
        <div class="appHeader__welcome">
            <h1 class="appHeader__title">Welcome, Leandro</h1>
            <div class="appHeader__dateInfo">
                <span class="js-currentDate"></span>
                <span class="appHeader__separator">‚Ä¢</span>
                <span class="js-currentWeekday"></span>
                <span class="appHeader__separator">‚Ä¢</span>
                <span class="js-currentWeek"></span>
            </div>
        </div>
        <div class="appHeader__actions">
            <div class="toolbar js-toolbar">
                <div class="toolbar__filters js-categoryFilters">
                    <!-- Filter buttons rendered dynamically from categories state -->
                </div>
                <custom-picker type="list" placeholder="Epics" size="compact" class="toolbar__epicFilter js-epicFilter"></custom-picker>
                <button class="toolbar__priorityBtn js-priorityFilterBtn">‚òÖ Priority</button>
                <div class="toolbar__divider"></div>
                <button class="toolbar__privacyBtn js-privacyToggleBtn">Hide</button>
            </div>
            <div class="profileSelector js-profileSelector">
                <button class="profileSelector__btn js-profileBtn" aria-label="Switch profile"></button>
                <span class="profileSelector__name js-profileName"></span>
                <div class="profileSelector__dropdown js-profileDropdown"></div>
            </div>
            <button class="navMenu__trigger js-menuBtn" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav class="navMenu__dropdown js-dropdownMenu">
                <button class="navMenu__item js-viewReportsBtn">
                    <span class="navMenu__icon">üìä</span> View Reports
                </button>
                <button class="navMenu__item js-viewArchivedBtn">
                    <span class="navMenu__icon">üì¶</span> All Completed Tasks
                </button>
                <button class="navMenu__item js-generateReportBtn">
                    <span class="navMenu__icon">üìã</span> Generate Report
                </button>
                <button class="navMenu__item js-boardConfigBtn">
                    <span class="navMenu__icon">‚öôÔ∏è</span> Board Configuration
                </button>
                <button class="navMenu__item js-manageCategoriesBtn">
                    <span class="navMenu__icon">üìÇ</span> Manage Categories
                </button>
                <button class="navMenu__item js-manageEpicsBtn">
                    <span class="navMenu__icon">üè∑Ô∏è</span> Manage Epics
                </button>
                <button class="navMenu__item js-manageProfilesBtn">
                    <span class="navMenu__icon">üë§</span> Manage Profiles
                </button>
                <button class="navMenu__item js-editChecklistBtn">
                    <span class="navMenu__icon">üìù</span> Edit Daily Checklist
                </button>
                <button class="navMenu__item js-crisisModeBtn">
                    <span class="navMenu__icon">üö®</span> Crisis Mode
                </button>
            </nav>
        </div>
    </header>

    <div class="appContainer js-appContainer">
        <!-- Left Sidebar -->
        <aside class="sidebar">
            <!-- Recurrent Tasks Section -->
            <daily-checklist class="sidebar__section"></daily-checklist>

            <!-- Notes Section -->
            <notes-widget class="sidebar__section"></notes-widget>
        </aside>

        <!-- Main Kanban Board ‚Äî columns are created dynamically by app.js -->
        <main class="kanban js-kanban"></main>
    </div>

    <!-- Add/Edit Task Modal -->
    <modal-dialog class="js-taskModal">
        <h2 slot="title" class="js-modalTitle">Add Task</h2>
        <form class="taskForm js-taskForm">
            <div class="taskForm__group">
                <label>Title *</label>
                <input type="text" class="js-taskTitle" required placeholder="Enter task title" />
            </div>
            <div class="taskForm__group">
                <label>Description</label>
                <textarea class="js-taskDescription" placeholder="Enter task description" rows="4"></textarea>
            </div>
            <div class="taskForm__group taskForm__checkboxGroup">
                <label>
                    <input type="checkbox" class="js-taskPriority" />
                    <span class="taskForm__priorityLabel">Priority Task</span>
                </label>
            </div>

            <div class="taskForm__group">
                <label>Category</label>
                <div class="taskForm__categorySelector js-categoryPills">
                    <!-- Category pills rendered dynamically by JS -->
                </div>
            </div>

            <div class="taskForm__group">
                <label>Epic</label>
                <custom-picker type="list" placeholder="Choose an epic" class="taskForm__epicPicker js-taskEpic"></custom-picker>
            </div>

            <!-- Task Log (only shown in edit mode) -->
            <div class="taskForm__group taskForm__log js-taskLogSection" style="display: none;">
                <label>Activity Log</label>
                <ul class="taskForm__logList js-taskLogList">
                    <!-- Log entries will be rendered here -->
                </ul>
            </div>

            <div class="modal__actions js-taskModalActions">
                <!-- Buttons are now dynamically inserted by app.js -->
            </div>
        </form>
    </modal-dialog>

    <!-- Reports Modal -->
    <modal-dialog class="js-reportsModal" size="large">
        <span slot="title">Reports</span>
        <div class="reportsView js-reportsContainer">
            <!-- Reports list or single report view will be rendered here -->
        </div>
    </modal-dialog>

    <!-- Archived Tasks Modal -->
    <modal-dialog class="js-archivedModal" size="large">
        <span slot="title">All Completed Tasks</span>
        <div class="archivedView js-archivedContainer">
            <!-- Archived tasks list will be rendered here -->
        </div>
    </modal-dialog>

    <!-- Delete Confirmation Modal -->
    <modal-dialog class="js-confirmModal" size="small">
        <span slot="title">Confirm Delete</span>
        <div class="confirmDialog">
            <p class="confirmDialog__message">Are you sure you want to delete this task? This action cannot be undone.</p>
            <div class="confirmDialog__actions">
                <button type="button" class="btn --cancel js-confirmCancel">Cancel</button>
                <button type="button" class="btn --delete js-confirmDelete">Delete</button>
            </div>
        </div>
    </modal-dialog>

    <!-- Epic Delete Confirmation Modal -->
    <modal-dialog class="js-epicConfirmModal" size="small">
        <span slot="title">Delete Epic</span>
        <div class="confirmDialog">
            <p class="confirmDialog__message js-epicConfirmMessage">Are you sure?</p>
            <div class="confirmDialog__actions">
                <button type="button" class="btn --cancel js-epicConfirmCancel">Cancel</button>
                <button type="button" class="btn --delete js-epicConfirmDelete">Delete</button>
            </div>
        </div>
    </modal-dialog>

    <!-- Manage Epics Modal -->
    <modal-dialog class="js-epicsModal" size="large">
        <span slot="title">Manage Epics</span>
        <div class="epicsEditor">
            <p class="epicsEditor__hint">Create and manage epics to group your tasks. Each epic has a unique color. Maximum 20 epics.</p>
            <div class="epicsEditor__form js-epicForm">
                <div class="epicsEditor__formRow">
                    <input type="text" class="epicsEditor__nameInput js-epicNameInput" placeholder="Epic name" />
                    <custom-picker type="color" placeholder="Select color" columns="5" class="js-epicColorSelect"></custom-picker>
                    <button type="button" class="btn --save js-epicAddBtn">Add Epic</button>
                </div>
                <div class="epicsEditor__alias js-epicAliasPreview"></div>
                <div class="epicsEditor__colorError js-epicColorError" style="display: none;"></div>
            </div>
            <div class="epicsEditor__list js-epicsList">
                <!-- Epics list rendered by JS -->
            </div>
        </div>
    </modal-dialog>

    <!-- Manage Categories Modal -->
    <modal-dialog class="js-categoriesModal" size="large">
        <span slot="title">Manage Categories</span>
        <div class="categoriesEditor">
            <p class="categoriesEditor__hint">Create and manage categories to organize your tasks. Each category has an icon. Maximum 20 categories.</p>
            <div class="categoriesEditor__form js-categoryForm">
                <div class="categoriesEditor__formRow">
                    <input type="text" class="categoriesEditor__nameInput js-categoryNameInput" placeholder="Category name" />
                    <custom-picker type="icon" placeholder="Select icon" columns="7" class="js-categoryIconSelect"></custom-picker>
                    <button type="button" class="btn --save js-categoryAddBtn">Add Category</button>
                </div>
                <div class="categoriesEditor__error js-categoryError" style="display: none;"></div>
            </div>
            <div class="categoriesEditor__list js-categoriesList">
                <!-- Categories list rendered by JS -->
            </div>
        </div>
    </modal-dialog>

    <!-- Category Delete Confirmation Modal -->
    <modal-dialog class="js-categoryConfirmModal" size="small">
        <span slot="title">Delete Category</span>
        <div class="confirmDialog">
            <p class="confirmDialog__message js-categoryConfirmMessage">Are you sure?</p>
            <div class="confirmDialog__actions">
                <button type="button" class="btn --cancel js-categoryConfirmCancel">Cancel</button>
                <button type="button" class="btn --delete js-categoryConfirmDelete">Delete</button>
            </div>
        </div>
    </modal-dialog>

    <!-- Edit Checklist Modal -->
    <modal-dialog class="js-checklistModal" size="large">
        <span slot="title">Edit Daily Checklist</span>
        <div class="checklistEditor">
            <p class="checklistEditor__hint">Add tasks to your daily checklist. Optionally add a URL to open when clicking the link icon.</p>
            <div class="checklistEditor__items js-checklistItemsContainer">
                <!-- Checklist items will be rendered here -->
            </div>
            <button type="button" class="checklistEditor__addBtn js-addChecklistItemBtn">+ Add Item</button>
            <div class="modal__actions">
                <div class="modal__actionsRight">
                    <button type="button" class="btn --cancel js-checklistCancelBtn">Cancel</button>
                    <button type="button" class="btn --save js-checklistSaveBtn">Save Checklist</button>
                </div>
            </div>
        </div>
    </modal-dialog>

    <!-- Manage Profiles Modal -->
    <modal-dialog class="js-profilesModal" size="large">
        <span slot="title">Manage Profiles</span>
        <div class="profilesEditor">
            <p class="profilesEditor__hint">Create and manage profiles to separate your data (e.g., Work vs Personal). Each profile has its own tasks, epics, notes, and reports. Maximum 20 profiles.</p>
            <div class="profilesEditor__form js-profileForm">
                <div class="profilesEditor__formRow">
                    <input type="text" class="profilesEditor__nameInput js-profileNameInput" placeholder="Profile name" />
                    <input type="text" class="profilesEditor__lettersInput js-profileLettersInput" placeholder="AB" maxlength="3" />
                    <custom-picker type="color" placeholder="Select color" columns="5" class="js-profileColorSelect"></custom-picker>
                    <button type="button" class="btn --save js-profileAddBtn">Add Profile</button>
                </div>
                <div class="profilesEditor__alias js-profileAliasPreview"></div>
                <div class="profilesEditor__error js-profileError" style="display: none;"></div>
            </div>
            <div class="profilesEditor__list js-profilesList">
                <!-- Profiles list rendered by JS -->
            </div>
        </div>
    </modal-dialog>

    <!-- Profile Delete Confirmation Modal -->
    <modal-dialog class="js-profileConfirmModal" size="small">
        <span slot="title">Delete Profile</span>
        <div class="confirmDialog">
            <p class="confirmDialog__message js-profileConfirmMessage">Are you sure?</p>
            <div class="confirmDialog__actions">
                <button type="button" class="btn --cancel js-profileConfirmCancel">Cancel</button>
                <button type="button" class="btn --delete js-profileConfirmDelete">Delete</button>
            </div>
        </div>
    </modal-dialog>

    <!-- Generate Report Confirmation Modal -->
    <modal-dialog class="js-generateReportConfirmModal" size="small">
        <span slot="title">Generate Report</span>
        <div class="confirmDialog">
            <p class="confirmDialog__message">Generate a report snapshot of all current tasks?</p>
            <div class="confirmDialog__actions">
                <button type="button" class="btn --cancel js-generateReportCancel">Cancel</button>
                <button type="button" class="btn --save js-generateReportConfirm">Generate</button>
            </div>
        </div>
    </modal-dialog>

    <!-- Board Configuration Modal -->
    <modal-dialog class="js-boardConfigModal" size="large">
        <span slot="title">Board Configuration</span>
        <div class="boardConfigEditor">
            <p class="boardConfigEditor__hint">Manage your board columns. Drag to reorder. The first column is the default where new tasks are created. Maximum 15 columns.</p>
            <div class="boardConfigEditor__form js-columnForm">
                <div class="boardConfigEditor__formRow">
                    <input type="text" class="boardConfigEditor__nameInput js-columnNameInput" placeholder="New column name" />
                    <button type="button" class="btn --save js-columnAddBtn">Add Column</button>
                </div>
                <div class="boardConfigEditor__error js-columnError" style="display: none;"></div>
            </div>
            <div class="boardConfigEditor__list js-columnsList">
                <!-- Column rows rendered by JS -->
            </div>
        </div>
    </modal-dialog>

    <!-- Column Delete Confirmation Modal -->
    <modal-dialog class="js-columnConfirmModal" size="small">
        <span slot="title">Delete Column</span>
        <div class="confirmDialog">
            <p class="confirmDialog__message js-columnConfirmMessage">Are you sure?</p>
            <div class="confirmDialog__actions">
                <button type="button" class="btn --cancel js-columnConfirmCancel">Cancel</button>
                <button type="button" class="btn --delete js-columnConfirmDelete">Delete</button>
            </div>
        </div>
    </modal-dialog>

    <!-- Toast Notifications -->
    <toast-notification class="js-toaster"></toast-notification>

    <script type="module" src="components/svg-icon/svg-icon.js"></script>
    <script type="module" src="components/custom-picker/custom-picker.js"></script>
    <script type="module" src="components/toast-notification/toast-notification.js"></script>
    <script type="module" src="components/button/button.js"></script>
    <script type="module" src="components/task-card/task-card.js"></script>
    <script type="module" src="components/modal-dialog/modal-dialog.js"></script>
    <script type="module" src="components/daily-checklist/daily-checklist.js"></script>
    <script type="module" src="components/notes-widget/notes-widget.js"></script>
    <script type="module" src="components/kanban-column/kanban-column.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
