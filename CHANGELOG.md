# Changelog

All notable changes to this project are documented here, newest first.

| Version | Date       | Changes                                                      |
|---------|------------|--------------------------------------------------------------|
| 2.25.0  | 2026-02-16 | UX: Unified `<custom-picker>` Component — evolved from `<grid-picker>` to support three modes: `color` (circle swatches), `icon` (SVG tiles), and `list` (scrollable vertical list with optional colored dots); replaces ALL native `<select>` elements (epic toolbar filter, task modal epic field); `size="compact"` attribute for toolbar usage; items API extended with optional `color` property |
| 2.24.0  | 2026-02-15 | UX: `<grid-picker>` Component — new inline Web Component replacing native `<select>` dropdowns in "add new" forms for epic color, profile color, and category icon; grid-based popover with visual swatches (colored circles for colors, `<svg-icon>` elements for icons); attributes: `type` (color/icon), `placeholder`, `columns`; JS API: `setItems()`, `value` getter/setter, `clear()`; fires `change` CustomEvent; click-outside-to-close with `disconnectedCallback` cleanup; per-item edit selects in lists still use native `<select>` (dual-path populate functions) |
| 2.23.0  | 2026-02-15 | UX: Drag-and-Drop Indicator Line — visual drop position indicator when dragging task cards; accent-colored horizontal line appears between cards at the calculated insertion point during `dragover`; indicator follows cursor in real-time; smooth fade-in animation; reusable indicator element per column (no DOM thrashing); cleanup on `dragend`/`dragleave`/`drop`; `removeDropIndicator()` public method on `kanban-column` component |
| 2.22.0  | 2026-02-15 | Feature: Dynamic Category Management — categories are now dynamic (stored in `categories.json` per profile) instead of hardcoded; category CRUD via Manage Categories modal (hamburger menu); each category has a name and SVG icon; icon picker using `<svg-icon>` component; category badge on task cards shows icon + name; max 20 categories; category 1 ("Non categorized") undeletable but renamable; deleting a category reassigns active tasks to category 1; `categoryName` stored on archived tasks for persistence; dynamic category validation on server; removed hardcoded `CATEGORIES`/`CATEGORY_LABELS` constants |
| 2.21.0  | 2026-02-14 | Feature: SVG Icon Component — new `<svg-icon>` Web Component for centralized SVG icon management; inline Shadow DOM (no external HTML/CSS files); static `ICONS` Map for O(1) lookup; `icon` and `size` attributes; uses `currentColor` for automatic color inheritance; ships with placeholder icons (star, newTab, edit, trash, plus, close) |
| 2.20.0  | 2026-02-14 | Feature: Default Profile & Open-in-New-Tab — `isDefault` field on Profile Object; default profile toggle (star) in Manage Profiles modal; `GET /api/profiles/default` endpoint; root `/` redirects to default profile; profile dropdown shows "open in new tab" icon per non-active profile; `StartDesktop.command` opens default profile URL; auto-normalization ensures one profile is always default |
| 2.19.0  | 2026-02-13 | Feature: Profiles — support multiple profiles (e.g., Work vs Personal) with separate data folders; profile selector in header; profile management modal (CRUD) via hamburger menu; profile-scoped API routes (`/api/:profile/...`); SPA URL routing (`/:alias`); auto-migration of existing data to "Work" profile; profile-scoped localStorage keys for checklist; max 20 profiles with unique color, letters, and alias; `profiles.json` global data file |
| 2.18.0  | 2026-02-12 | Feature: Epic Tickets — tasks can be assigned to epics; epic bar on task cards with color; epic management modal (CRUD) via hamburger menu; epic filter dropdown in toolbar (AND logic with existing filters); epic name in reports beside task ID; max 20 epics with 20 unique rainbow colors; epic alias (camelCase) as CSS class on cards; `epics.json` data file; API endpoints for CRUD epics |
| 2.17.0  | 2026-02-08 | Security: Added server-side input validation for all API endpoints; validates title/description lengths, category values (1-6), status values, position integers; reusable validation helpers with clear error messages |
| 2.16.0  | 2026-02-08 | Reliability: Added simple lock (`isMoving` flag) to `moveTask` function to prevent race conditions when user drags multiple cards quickly; uses `finally` block to ensure lock is always released |
| 2.15.0  | 2026-02-08 | Reliability: Added `disconnectedCallback` lifecycle method to components for proper cleanup; modal-dialog cleans up ESC key listener; notes-widget clears debounce timeout; toast-notification clears auto-dismiss timeouts; prevents memory leaks |
| 2.14.0  | 2026-02-08 | UX: Optimistic UI with rollback for all task operations (create, update, delete, move); instant visual feedback with automatic rollback on API failure; new state management functions (createTasksSnapshot, restoreTasksFromSnapshot, replaceTask, generateTempId) |
| 2.13.0  | 2026-02-08 | Testing: added vanilla Node.js test infrastructure (146 tests) using built-in `node:test` module; tests for utilities, validation, and all API endpoints; npm scripts for running tests |
| 2.12.0  | 2026-02-08 | Security: added DIY rate limiting middleware (no external packages); 100 req/min for reads, 30 req/min for writes; includes informational headers and auto-cleanup |
| 2.11.0  | 2026-02-07 | Documentation: added comprehensive README.md for open source release with project philosophy, setup instructions, API reference, and contributing guidelines; added MIT LICENSE file |
| 2.10.0  | 2026-02-07 | Performance: added template caching to all 7 components (reduces HTTP requests from O(n) to O(1) per component type); removed double filter application; combined getTaskGradient/shouldUseLightText into single getTaskColorInfo function |
| 2.9.0   | 2026-02-07 | Modular architecture: split app.js into 5 modules (state.js, api.js, filters.js, crisis-mode.js, modals.js) for better maintainability and separation of concerns |
| 2.8.0   | 2026-02-07 | Code maintainability: extracted magic numbers to constants.js (CHECKLIST_RESET_HOUR, DEBOUNCE_DELAY_MS, MAX_GRADIENT_STEPS, LIGHT_TEXT_THRESHOLD, DEFAULT_PORT); added JSDoc comments to key functions in app.js; server.js now uses PORT env variable with fallback |
| 2.7.0   | 2026-02-07 | Added comprehensive "Code Guidelines" section documenting coding standards, patterns, and anti-patterns to prevent common issues |
| 2.6.0   | 2026-02-07 | Code consistency: created `toast-notification` component for user feedback; migrated Confirm and Checklist modals to `<modal-dialog>` component; removed window object functions and inline HTML handlers in favor of event delegation; replaced all `alert()` calls with toaster notifications |
| 2.5.0   | 2026-02-07 | Code cleanup: removed console.log statements from production code; fixed deprecated `substr()` to `substring()`; fixed crisis mode CSS selectors to target custom elements (`kanban-column`, `daily-checklist`); removed dead CSS rules targeting Shadow DOM internals |
| 2.4.0   | 2026-02-07 | Refactored shared code: created `/public/js/constants.js` (CATEGORIES, STATUS_COLUMNS, DEFAULT_CHECKLIST_ITEMS) and `/public/js/utils.js` (escapeHtml, getWeekNumber, formatDate); converted app.js to ES module; eliminated code duplication across components |
| 2.3.0   | 2026-02-06 | Migrated Reports and Archived Tasks modals to `<modal-dialog>` component with `size="large"` attribute; fixed category/priority filters to query through Shadow DOM; added complete modal styling to styles.css |
| 2.2.0   | 2026-01-31 | Added delete report: × button on each report in View Reports modal, `DELETE /api/reports/:id` endpoint |
| 2.1.0   | 2026-01-31 | Complete BEM refactoring: camelCase BEM class names (`.blockName__elementName`), modifier classes as separate `.--modifierName`, JS hooks via `.js-camelCase` classes, all IDs removed and replaced with `js-` class selectors, `getElementById` replaced with `querySelector` throughout |
| 2.0.0   | 2026-01-31 | Added priority filter button in toolbar, Crisis Mode (hamburger menu): shows only priority tasks, red border, hides toolbar/done column/checklist via visibility, red favicon, title "!!!" |
| 1.9.0   | 2026-01-31 | Added category filter buttons in header toolbar: one toggle button per category, filters cards across all columns via CSS class (no DOM removal), multiple filters can be active simultaneously |
| 1.8.0   | 2026-01-31 | Added header toolbar card: a right-aligned container (left of hamburger menu) that groups action buttons inline; Hide button moved into toolbar; expandable for future buttons |
| 1.7.0   | 2026-01-31 | Added sidebar privacy toggle (blur overlay), separated Archive and Report into independent functions with separate buttons and API endpoints |
| 1.6.0   | 2026-01-31 | Added task categories (1-6): selectable via pill buttons in modal, badge on cards, logged on change, reports grouped by category |
| 1.5.0   | 2026-01-26 | Complete UI redesign with zen theme: light beige background, Montserrat font, generous spacing, soft shadows |
| 1.4.0   | 2026-01-25 | Added editable daily checklist with external links, favicon |
| 1.3.0   | 2026-01-25 | Responsive design for MacBook Pro 14" (1512px) and external monitor (2304px), sidebar width increased to 560px, textarea min-width 500px |
| 1.2.0   | 2026-01-25 | Added welcome header with date/week info, hamburger menu, notes save timestamp, archived tasks modal |
| 1.1.0   | 2026-01-25 | Notes changed from checkbox list to free-form textarea with debounced auto-save |
| 1.0.0   | 2026-01-25 | Initial implementation complete                              |
